"use strict";!function(t){if("object"==typeof exports){var e=require("jquery");module.exports=t(e||$)}else"function"==typeof define&&define.amd?define(["jquery"],t):t(e||$)}(function(t){function e(t,e){var s=this.data(),a=this.find("ul"),n=!1;if(s.vals&&0!==a.length){t||(t=s.seconds),s.intervalId&&(n=!0,clearTimeout(s.intervalId));var o=Math.floor(t/86400),l=86400*o,r=Math.floor((t-l)/3600);l+=3600*r;var d=Math.floor((t-l)/60);l+=60*d;for(var c,u=t-l,f=(100>o?"0"+(10>o?"0":""):"")+o+(10>r?"0":"")+r+(10>d?"0":"")+d+(10>u?"0":"")+u,p=s.vals.length-1,h=f.length-1;p>=0;p--,h--)c=parseInt(f.substr(h,1)),s.vals[p]=c,a.eq(p).children().html(c);if(n||e){var m=this;s.ttStartTime=Date.now(),s.intervalId=setTimeout(function(){i.call(m)},1e3),this.data("intervalId",s.intervalId)}}}function i(e){var s=this.find("ul"),a=this.data();if(!a.vals||0==s.length)return a.intervalId&&(clearTimeout(a.intervalId),this.data("intervalId",null)),void(a.callback&&a.callback());void 0==e&&(e=a.iSec);var n=a.vals[e],o=s.eq(e),l=o.children(),r=a.countdown?-1:1;if(l.eq(1).html(n),n+=r,e==a.iSec){var d=a.tickTimeout,c=(new Date).getTime()-a.ttStartTime;a.sec+=r,d+=Math.abs(a.seconds-a.sec)*d-c,a.intervalId=setTimeout(function(){i.call(u)},d)}(0>n||n>a.limits[e])&&(0>n?(n=a.limits[e],e==a.iHour&&a.displayDays>0&&e>0&&0==a.vals[e-1]&&(n=3)):n=0,e>0&&i.call(this,e-1)),l.eq(0).html(n);var u=this;t.support.transition?(o.addClass("transition"),o.css({top:0}),setTimeout(function(){o.removeClass("transition"),l.eq(1).html(n),o.css({top:"-"+a.height+"px"}),r>0||e!=a.iSec||(a.sec==a.countdownAlertLimit&&s.parent().addClass("timeTo-alert"),0===a.sec&&(s.parent().removeClass("timeTo-alert"),a.intervalId&&(clearTimeout(a.intervalId),u.data("intervalId",null)),"function"==typeof a.callback&&a.callback()))},410)):o.stop().animate({top:0},400,e!=a.iSec?null:function(){l.eq(1).html(n),o.css({top:"-"+a.height+"px"}),r>0||e!=a.iSec||(a.sec==a.countdownAlertLimit?s.parent().addClass("timeTo-alert"):0==a.sec&&(s.parent().removeClass("timeTo-alert"),a.intervalId&&(clearTimeout(a.intervalId),u.data("intervalId",null)),"function"==typeof a.callback&&a.callback()))}),a.vals[e]=n}var s={callback:null,captionSize:0,countdown:!0,countdownAlertLimit:10,displayCaptions:!1,displayDays:0,displayHours:!0,fontFamily:"Verdana, sans-serif",fontSize:28,lang:"en",custom_labels:{days:"X",hours:"X",min:"X",sec:"X"},seconds:0,start:!0,theme:"white",vals:[0,0,0,0,0,0,0,0,0],limits:[9,9,9,2,9,5,9,5,9],iSec:8,iHour:4,tickTimeout:1e3,intervalId:null},a={start:function(t){t&&e.call(this,t);var s=this,a=setTimeout(function(){i.call(s)},1e3);this.data("ttStartTime",(new Date).getTime()),this.data("intervalId",a)},stop:function(){var t=this.data();return t.intervalId&&(clearTimeout(t.intervalId),this.data("intervalId",null)),t},reset:function(t){var i=a.stop.call(this);this.find("div").css({backgroundPosition:"left center"}),this.find("ul").parent().removeClass("timeTo-alert"),"undefined"==typeof t&&(t=i.value),e.call(this,t,!0)}},n={en:{days:"days",hours:"hours",min:"minutes",sec:"seconds"},ru:{days:"дней",hours:"часов",min:"минут",sec:"секунд"},ua:{days:"днiв",hours:"годин",min:"хвилин",sec:"секунд"},de:{days:"Tag",hours:"Uhr",min:"Minuten",sec:"Secunden"},fr:{days:"jours",hours:"heures",min:"minutes",sec:"secondes"},sp:{days:"días",hours:"reloj",min:"minutos",sec:"segundos"},it:{days:"giorni",hours:"ore",min:"minuti",sec:"secondi"},nl:{days:"dagen",hours:"uren",min:"minuten",sec:"seconden"},no:{days:"dager",hours:"timer",min:"minutter",sec:"sekunder"},pt:{days:"dias",hours:"horas",min:"minutos",sec:"segundos"}};return"undefined"==typeof t.support.transition&&(t.support.transition=function(){var t=document.body||document.documentElement,e=t.style,i=void 0!==e.transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition;return i}()),t.fn.timeTo=function(){for(var i,o,l={},r=0;o=arguments[r];++r)if(0==r&&"string"==typeof o)i=o;else if("object"==typeof o)"function"==typeof o.getTime?l.timeTo=o:l=t.extend(l,o);else if("function"==typeof o)l.callback=o;else{var d=parseInt(o,10);isNaN(d)||(l.seconds=d)}if(l.timeTo){var c,u=(new Date).getTime();l.timeTo.getTime?c=l.timeTo.getTime():"number"==typeof l.timeTo&&(c=l.timeTo),l.timeTo>u&&(l.seconds=Math.floor((c-u)/1e3))}else if(l.time||!l.seconds){var c=l.time;if(c||(c=new Date),"object"==typeof c&&c.getTime)l.seconds=3600*c.getHours()+60*c.getMinutes()+c.getSeconds(),l.countdown=!1;else if("string"==typeof c){for(var f,p=c.split(":"),h=0,m=1;f=p.pop();)h+=f*m,m*=60;l.seconds=h,l.countdown=!1}}if(l.countdown!==!1&&l.seconds>86400&&"undefined"==typeof l.displayDays){var v=Math.floor(l.seconds/86400);l.displayDays=10>v&&1||100>v&&2||3}else l.displayDays===!0?l.displayDays=3:l.displayDays&&(l.displayDays=l.displayDays>0?Math.floor(l.displayDays):3);return this.each(function(){var o,r=t(this),d=r.data();if(d.intervalId&&(clearInterval(d.intervalId),d.intervalId=null),d.vals&&"reset"!==i)t.extend(d,l);else{d.options&&(l=d.options),d=t.extend(s,l),d.options=l,d.height=Math.round(100*d.fontSize/93),d.width=Math.round(.8*d.fontSize+.13*d.height),d.displayHours=!(!d.displayDays&&!d.displayHours),n.custom=d.custom_labels,r.addClass("timeTo").addClass("timeTo-"+d.theme).css({fontFamily:d.fontFamily,fontSize:d.fontSize+"px"});var c=Math.round(d.height/10),u='<ul style="left:'+c+"px; top:-"+d.height+'px"><li>0</li><li>0</li></ul></div>',f=' style="width:'+d.width+"px; height:"+d.height+'px;"',p='<div class="first"'+f+">"+u,h="<div"+f+">"+u,m="<span>:</span>",v=Math.round(2*d.width+3),y=d.captionSize||Math.round(.43*d.fontSize),g=(d.displayCaptions?(d.displayHours?'<figure style="max-width:'+v+'px">$1<figcaption style="font-size:'+y+'px">'+n[d.lang].hours+"</figcaption></figure>"+m:"")+'<figure style="max-width:'+v+'px">$1<figcaption style="font-size:'+y+'px">'+n[d.lang].min+"</figcaption></figure>"+m+'<figure style="max-width:'+v+'px">$1<figcaption style="font-size:'+y+'px">'+n[d.lang].sec+"</figcaption></figure>":(d.displayHours?"$1"+m:"")+"$1"+m+"$1").replace(/\$1/g,p+h);if(d.displayDays>0){var T=.4*d.fontSize,I=p;for(o=d.displayDays-1;o>0;o--)I+=1===o?h.replace('">'," margin-right:"+Math.round(T)+'px">'):h;g=(d.displayCaptions?'<figure style="width:'+Math.round(d.width*d.displayDays+T+4)+'px">$1<figcaption style="font-size:'+y+"px; padding-right:"+Math.round(T)+'px">'+n[d.lang].days+"</figcaption></figure>":"$1").replace(/\$1/,I)+g}r.html(g)}var x=r.find("div");if(x.length<d.vals.length){var w=d.vals.length-x.length,S=d.vals,b=d.limits;for(d.vals=[],d.limits=[],o=0;o<x.length;o++)d.vals[o]=S[w+o],d.limits[o]=b[w+o];d.iSec=d.vals.length-1,d.iHour=d.vals.length-5}d.sec=d.seconds,r.data(d),i&&a[i]?a[i].call(r,d.seconds):d.start?a.start.call(r,d.seconds):e.call(r,d.seconds)})},jQuery});